version: 2

models:
    - name: teams
      tests:
        - dbt_utils.expression_is_true:
            expression: "n_members <= n_seats"
        - dbt_utils.expression_is_true:
            expression: "n_spaces_with_active_creations <= n_spaces"
        - dbt_utils.expression_is_true:
            expression: "n_space_creators <= n_members"
      columns:
        - name: team_id
          description: Primary key for teams.
          tests:
            - unique
            - not_null

        - name: plan

        - name: name

        - name: n_seats

        - name: n_spaces

        - name: n_spaces_with_active_creations

        - name: n_members

        - name: n_space_creators

        - name: n_active_creations

        - name: has_log_in_team_tab

        - name: has_cover_picture_in_team_tab

        - name: has_logo_in_team_brand_section

        - name: has_loader_in_team_brand_section

        - name: created_at
