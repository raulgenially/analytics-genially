version: 2

models:
    - name: creator_activity_by_day
      description: Model containing the activity they had with regards to creations.
      columns:
        - name: id
          description: Primary key. Created from user_id and the date_day field.
          tests:
            - unique
            - not_null

        - name: user_id
          description: The user id whose activity is described on the date_day.
          tests:
            - not_null

        - name: first_usage
          description: The date the user created the first genially
          tests:
            - not_null

        - name: date_day
          description: The day of the activity
          tests:
            - not_null

        - name: day_period
          description: The number of days that have passed from the day the user created the first genially.
          tests:
            - not_null

        - name: was_active
          description: Whether the user created a genially on the date_day or not.
          tests:
            - not_null

        - name: status
          description: Whether the user was Active (A), Churned (C) or New (N) on date_day.
            A user is New if he registered on date_day.
            A user is Active if he created a genially on date_day.
            A user is Churned if he did not create on date_day but it did on a previous day.
          tests:
            - not_null

        - name: status_7d
          description: Aggregated status over the past 7 days.
            We consider the user New (N) if the user was created in the 7 day window.
            We consider the user Active (A) if he has been active in any of the past 7 days.
            We consider the user Churned (C) otherwise.

        - name: days_active_7d
          description: Number of days the user was active on the past 7 days.

        - name: status_28d
          description: Aggregated status over the past 28 days.
            We consider the user New (N) if the user was created in the 28 day window.
            We consider the user Active (A) if he has been active in any of the past 28 days.
            We consider the user Churned(C) otherwise.

        - name: days_active_28d
          description: Number of days the user was active on the past 28 days.

        - name: previous_status_7d
          description: Aggregated status over the previous 7d window.

        - name: previous_status_28d
          description: Aggregated status over the previous 28d window.
