version: 2

models:
    - name: src_ga4_events
      description: Events from Google Analytics 4.
      columns:
        - name: id
          description: Primary key for GA4 events. This is a surrogate key created from
            the event_name, user_pseudo_id, event_timestamp and a deduplicate value in case
            the same event is sent with the same timestamp.
          tests:
            - unique
            - not_null

        - name: event_name
          description: The name of the event.
          tests:
            - not_null

        - name: event_params
          description: A repeated record of the parameters associated with this event.

        - name: event_params.key
          description: The event parameter's key.

        - name: event_params.value
          description: A record of the event parameter's value.

        - name: event_params.value.string_value
          description: The string value of the event parameter.

        - name: event_params.value.int_value
          description: The integer value of the event parameter.

        - name: event_params.value.double_value
          description: The double value of the event parameter.

        - name: event_params.value.float_value
          description: The float value of the event parameter. This field is currently unused.

        - name: event_value_in_usd
          description: The currency-converted value (in USD) of the event's "value" parameter.

        - name: user_properties
          description: A repeated record of user properties set with the setUserProperty API.

        - name: user_properties.key
          description: The name of the user property.

        - name: user_properties.value
          description: A record for the user property value.

        - name: user_properties.value.string_value
          description: The string value of the user property.

        - name: user_properties.value.int_value
          description: The integer value of the user property.

        - name: user_properties.value.double_value
          description: The double value of the user property.

        - name: user_properties.value.float_value
          description: This field is currently unused.

        - name: user_properties.value.set_timestamp_micros
          description: The time (in microseconds) at which the user property was last set.

        - name: user_ltv
          description: A record of Lifetime Value information about the user.
             This field is not populated in intraday tables.

        - name: user_ltv.revenue
          description: The Lifetime Value (revenue) of the user. This field is not populated in intraday tables.

        - name: user_ltv.currency
          description: The Lifetime Value (currency) of the user. This field is not populated in intraday tables.

        - name: device
          description: A record of device information.

        - name: device.browser
          description: The browser in which the user viewed content.

        - name: device.browser_version
          description: The version of the browser in which the user viewed content.

        - name: device.category
          description: The device category (mobile, tablet, desktop).

        - name: device.mobile_brand_name
          description: The device brand name.

        - name: device.mobile_model_name
          description: The device model name.

        - name: device.mobile_marketing_name
          description: The device marketing name.

        - name: device.mobile_os_hardware_model
          description: The device model information retrieved directly from the operating system.

        - name: device.operating_system
          description: The operating system of the device.

        - name: device.operating_system_version
          description: The OS version.

        - name: device.vendor_id
          description: IDFV (present only if IDFA is not collected).

        - name: device.advertising_id
          description: Advertising ID/IDFA.

        - name: device.language
          description: The OS language.

        - name: device.time_zone_offset_seconds
          description: The offset from GMT in seconds.

        - name: device.is_limited_ad_tracking
          description: The device's Limit Ad Tracking setting.

        - name: device.web_info
          description: A record of web information.

        - name: device.web_info.browser
          description: The browser in which the user viewed content.

        - name: device.web_info.browser_version
          description: The version of the browser in which the user viewed content.

        - name: device.web_info.hostname
          description: The hostname associated with the logged event.

        - name: geo
          description: A record of the user's geographic information.

        - name: geo.continent
          description: The continent from which events were reported, based on IP address.

        - name: geo.sub_continent
          description: The subcontinent from which events were reported, based on IP address.

        - name: geo.country
          description: The country from which events were reported, based on IP address.

        - name: geo.region
          description: The region from which events were reported, based on IP address.

        - name: geo.metro
          description: The metro from which events were reported, based on IP address.

        - name: geo.city
          description: The city from which events were reported, based on IP address.

        - name: traffic_source
          description: Name of the traffic source that first acquired the user.
            This field is not populated in intraday tables.

        - name: traffic_source.name
          description: Name of the marketing campaign that first acquired the user.
            This field is not populated in intraday tables.

        - name: traffic_source.medium
          description: Name of the medium (paid search, organic search, email, etc.) that first acquired the user.
            This field is not populated in intraday tables.

        - name: traffic_source.source
          description: Name of the network that first acquired the user.
            This field is not populated in intraday tables.

        - name: ecommerce
          description: A record of information about ecommerce.

        - name: ecommerce.total_item_quantity
          description: Total number of items in this event, which is the sum of items.quantity.

        - name: ecommerce.purchase_revenue_in_usd
          description: Purchase revenue of this event, represented in USD with standard unit.
            Populated for purchase event only.

        - name: ecommerce.purchase_revenue
          description: Purchase revenue of this event, represented in local currency with standard unit.
            Populated for purchase event only.

        - name: ecommerce.refund_value_in_usd
          description: The amount of refund in this event, represented in USD with standard unit.
            Populated for refund event only.

        - name: ecommerce.refund_value
          description: The amount of refund in this event, represented in local currency with standard unit.
            Populated for refund event only.

        - name: ecommerce.shipping_value_in_usd
          description: The shipping cost in this event, represented in USD with standard unit.

        - name: ecommerce.shipping_value
          description: The shipping cost in this event, represented in local currency.

        - name: ecommerce.tax_value_in_usd
          description: The tax value in this event, represented in USD with standard unit.

        - name: ecommerce.tax_value
          description: The tax value in this event, represented in local currency with standard unit.

        - name: ecommerce.transaction_id
          description: The transaction ID of the ecommerce transaction.

        - name: ecommerce.unique_items
          description: The number of unique items in this event, based on item_id, item_name, and item_brand.

        - name: items
          description: A repeated record of items included in this event.

        - name: items.item_id
          description: The ID of the item.

        - name: items.item_name
          description: The name of the item.

        - name: items.item_brand
          description: The brand of the item.

        - name: items.item_variant
          description: The variant of the item.

        - name: items.item_category
          description: The category of the item.

        - name: items.item_category2
          description: The sub category of the item.

        - name: items.item_category3
          description: The sub category of the item.

        - name: items.item_category4
          description: The sub category of the item.

        - name: items.item_category5
          description: The sub category of the item.

        - name: items.price_in_usd
          description: The price of the item, in USD with standard unit.

        - name: items.price
          description: The price of the item in local currency.

        - name: items.quantity
          description: The quantity of the item.

        - name: items.item_revenue_in_usd
          description: The revenue of this item, calculated as price_in_usd * quantity.
            It is populated for purchase events only, in USD with standard unit.

        - name: items.item_revenue
          description: The revenue of this item, calculated as price * quantity.
            It is populated for purchase events only, in local currency with standard unit.

        - name: items.item_refund_in_usd
          description: The refund value of this item, calculated as price_in_usd * quantity.
            It is populated for refund events only, in USD with standard unit.

        - name: items.item_refund
          description: The refund value of this item, calculated as price * quantity.
            It is populated for refund events only, in local currency with standard unit.

        - name: items.coupon
          description: Coupon code applied to this item.

        - name: items.affiliation
          description: A product affiliation to designate a supplying company or brick and mortar store location.

        - name: items.location_id
          description: The location associated with the item.

        - name: items.item_list_id
          description: The ID of the list in which the item was presented to the user.

        - name: items.item_list_name
          description: The name of the list in which the item was presented to the user.

        - name: Items.item_list_index
          description: The position of the item in a list.

        - name: items.promotion_id
          description: The ID of a product promotion.

        - name: items.promotion_name
          description: The name of a product promotion.

        - name: items.creative_name
          description: The name of a creative used in a promotional spot.

        - name: items.creative_slot
          description: The name of a creative slot.

        - name: user_id
          description: The user ID set via the setUserId API.

        - name: user_pseudo_id
          description: The pseudonymous ID (e.g., app instance ID) for the user.
          tests:
            - not_null

        - name: event_at
          description: The time (in microseconds, UTC) at which the event was logged on the client.
          tests:
            - not_null

        - name: first_touch_at
          description: The time (in microseconds) at which the user first opened the app or visited the site.
          tests:
            - not_null
