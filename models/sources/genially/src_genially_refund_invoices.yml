version: 2

models:
    - name: src_genially_refund_invoices
      description: Information about refunded invoices.
      columns:
        - name: invoice_id
          description: Primary key for refunded invoices.
          tests:
            - unique
            - not_null

        - name: data
          description: Metadata from the payment provider as a json.

        - name: description
          description: Description of the type of license purchased.

        - name: payer_email
          description: The email of the person paying the invoice.
          tests:
            - not_null

        - name: residence_country
          description: Country of residence of the person paying the invoice.
          tests:
            - not_null

        - name: total
          description: Amount of monetary value refunded in the currency
            specified in the currency column.
          tests:
            - not_null

        - name: total_euro
          description: The equivalent in â‚¬ of the amount specified in total.
          tests:
            - not_null

        - name: currency
          description: Currency in which the invoice is paid.
          tests:
            - not_null

        - name: invoice_number
          description: Unique invoice number.
          tests:
            - not_null

        - name: payment_platform
          description: Payment platform used to make the payment. Either Braintree,
            Paypal or Stripe.

        - name: user_id
          description: Id of the user making the payment.
          tests:
            - not_null

        - name: subscription_id
          description: Id of the subscription in the payment processing platform.
          tests:
            - not_null

        - name: transaction_id
          description: Id of the transaction in the payment processing platform.

        - name: invoiced_at
          description: Date time at which the invoice was emitted.
          tests:
            - not_null

